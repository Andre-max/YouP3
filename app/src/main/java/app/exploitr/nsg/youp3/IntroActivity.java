package app.exploitr.nsg.youp3;

import android.Manifest;
import android.os.Bundle;
import android.support.annotation.FloatRange;
import android.view.View;

import agency.tango.materialintroscreen.MaterialIntroActivity;
import agency.tango.materialintroscreen.MessageButtonBehaviour;
import agency.tango.materialintroscreen.SlideFragmentBuilder;
import agency.tango.materialintroscreen.animations.IViewTranslation;
import utils.SuperToast;

@SuppressWarnings("Anonymous2MethodRef")
public class IntroActivity extends MaterialIntroActivity {

    private String[] perms = new String[]{
            Manifest.permission.INTERNET,
            Manifest.permission.READ_EXTERNAL_STORAGE,
            Manifest.permission.WRITE_EXTERNAL_STORAGE,
            Manifest.permission.ACCESS_NETWORK_STATE,
            Manifest.permission.GET_ACCOUNTS,
            Manifest.permission.VIBRATE,
    };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        enableLastSlideAlphaExitTransition(true);

        getBackButtonTranslationWrapper().setEnterTranslation(new IViewTranslation() {
            @Override
            public void translate(View view, @FloatRange(from = 0, to = 1.0) float percentage) {
                view.setAlpha(percentage);
            }
        });

        addSlide(new SlideFragmentBuilder()
                .backgroundColor(R.color.themeDef_primary)
                .buttonsColor(android.R.color.background_dark)
                .image(R.drawable.ic_launcher_web)
                .title("Download Content With Ease")
                .description("Let's have a try!")
                .build());

        addSlide(new SlideFragmentBuilder()
                        .backgroundColor(R.color.themeDef_AboutActivity_primary)
                        .buttonsColor(R.color.themeDef_BookmarkActivity_accent)
                        .image(R.drawable.ic_perm_lock)
                        .possiblePermissions(perms)
                        .neededPermissions(perms)
                        .title("Give me permissions")
                        .description("I can't work without them")
                        .build(),
                new MessageButtonBehaviour(new View.OnClickListener() {
                    @Override
                    public void onClick(View v) {
                        showMessage("Thanks! You are already done!");
                    }
                }, "Grant Permissions"));

        addSlide(new Tos());
        addSlide(new BASwitcher());

    }
}
