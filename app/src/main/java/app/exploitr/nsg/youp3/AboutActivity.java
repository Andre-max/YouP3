package app.exploitr.nsg.youp3;

import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.widget.Toolbar;

import java.util.Objects;

import de.psdev.licensesdialog.LicensesDialog;
import de.psdev.licensesdialog.licenses.ApacheSoftwareLicense20;
import de.psdev.licensesdialog.licenses.MITLicense;
import de.psdev.licensesdialog.model.Notice;
import de.psdev.licensesdialog.model.Notices;

public class AboutActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_about);

        Objects.requireNonNull(getSupportActionBar()).setTitle("About");

        findViewById(R.id.OK).setOnClickListener(v -> finish());

        findViewById(R.id.url).setOnClickListener(v -> {
            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("http://exploitrme.wordpress.com/"));
            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            startActivity(intent);
        });

        findViewById(R.id.giturl).setOnClickListener(v -> {
            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("http://github.com/exploitr/youp3"));
            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            startActivity(intent);
        });

        findViewById(R.id.osl).setOnClickListener(v -> {
            Notices notices = new Notices();
            notices.addNotice(new Notice("Apache Commons IO",
                    "https://commons.apache.org/proper/commons-io/",
                    "Apache.org",
                    new ApacheSoftwareLicense20()));
            notices.addNotice(new Notice("Android Support Libraries",
                    "https://developer.android.com/topic/libraries/support-library/packages",
                    "Google",
                    new ApacheSoftwareLicense20()));
            notices.addNotice(new Notice("OverWatchProgress",
                    "https://github.com/zjywill/OverwatchProgress",
                    "Junyi Zhang",
                    new ApacheSoftwareLicense20()));
            notices.addNotice(new Notice("Ion",
                    "https://github.com/koush/ion/",
                    "Koushik Dutta",
                    new ApacheSoftwareLicense20()));
            notices.addNotice(new Notice("RapidFloatingActionButton",
                    "https://github.com/wangjiegulu/RapidFloatingActionButton",
                    "Wang Jie",
                    new ApacheSoftwareLicense20()));
            notices.addNotice(new Notice("Android-Youtube-Extractor",
                    "https://github.com/HaarigerHarald/android-youtubeExtractor",
                    " Benjamin Huber",
                    new MITLicense()));
            notices.addNotice(new Notice("PRDownloader",
                    "https://github.com/MindorksOpenSource/PRDownloader",
                    "Mondorks",
                    new ApacheSoftwareLicense20()));
            notices.addNotice(new Notice("Exoplayer",
                    "https://github.com/google/ExoPlayer",
                    "Google",
                    new ApacheSoftwareLicense20()));

            new LicensesDialog.Builder(AboutActivity.this)
                    .setNotices(notices)
                    .setIncludeOwnLicense(true)
                    .build()
                    .show();
        });

    }

    @Override
    public void finish() {
        super.finish();
        overridePendingTransition(0, R.anim.enter);
    }
}

